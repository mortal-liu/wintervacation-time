<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#2563eb">
    <title>寒假管理系统 | 张广洲</title>
    
    <link rel="manifest" href="manifest.json">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2232/2232688.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
    <style>
        body { background-color: #f3f4f6; font-family: 'Inter', 'Noto Sans SC', sans-serif; -webkit-tap-highlight-color: transparent; }
        .completed { opacity: 0.5; filter: grayscale(1); border-style: dashed !important; }
        .completed .status-badge { background-color: #9ca3af !important; }
        #progress-bar { transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); }
    </style>
</head>
<body class="pb-10">

    <div class="sticky top-0 z-30 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm">
        <div class="max-w-md mx-auto px-4 py-4">
            <div class="flex justify-between items-end mb-3">
                <div>
                    <h1 class="text-xl font-black text-gray-900">1.15 - 2.03 <span class="text-blue-600">2026</span></h1>
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Tutor Workflow Optimization</p>
                </div>
                <span id="progress-percent" class="text-2xl font-black text-blue-600 italic">0%</span>
            </div>
            
            <div class="flex flex-wrap gap-1 mb-4">
                <span class="px-2 py-0.5 rounded bg-blue-100 text-blue-700 text-[9px] font-bold border border-blue-200">数 40min</span>
                <span class="px-2 py-0.5 rounded bg-orange-100 text-orange-700 text-[9px] font-bold border border-orange-200">休 10min</span>
                <span class="px-2 py-0.5 rounded bg-blue-100 text-blue-700 text-[9px] font-bold border border-blue-200">数 40min</span>
                <span class="px-2 py-0.5 rounded bg-orange-100 text-orange-700 text-[9px] font-bold border border-orange-200">休 10min</span>
                <span class="px-2 py-0.5 rounded bg-green-100 text-green-700 text-[9px] font-bold border border-green-200">物 50min</span>
            </div>

            <div class="w-full bg-gray-100 rounded-full h-2 border border-gray-200 p-0.5">
                <div id="progress-bar" class="bg-blue-600 h-1 rounded-full shadow-[0_0_8px_rgba(37,99,235,0.3)]" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <div class="max-w-md mx-auto px-4 mt-6">
        <div id="schedule-content" class="space-y-8"></div>
    </div>

    <script>
        const scheduleData = [
            { phase: "Phase 1: 二次根式 + 一元二次方程|力与运动", days: [
                { id: "1-15", date: "01.15", day: "Wed", content: ["数：复习二次根式", "物：力的定义与分类"] },
                { id: "1-16", date: "01.16", day: "Thu", content: ["数：一元二次方程定义", "物：受力分解基础"] },
                { id: "1-17", date: "01.17", day: "Fri", content: ["数：一元二次方程解法", "物：牛顿第一定律"] },
                { id: "1-18", date: "01.18", day: "Sat", content: ["数：一元二次方程应用", "物：牛顿第二定律"] },
                { id: "1-19", date: "01.19", day: "Sun", content: ["TEST 01：一元二次方程|力"], isTest: true }
            ]},
            { phase: "Phase 2: 勾股定理 + 平行四边形|压强与浮力", days: [
                { id: "1-20", date: "01.20", day: "Mon", content: ["数：勾股定理公式", "物：压强定义及表达式"] },
                { id: "1-21", date: "01.21", day: "Tue", content: ["数：勾股定理应用", "物：大气压强和液体压强"] },
                { id: "1-22", date: "01.22", day: "Wed", content: ["数：平行四边形性质", "物：浮力定义与公式"] },
                { id: "1-23", date: "01.23", day: "Thu", content: ["数：中位线", "物：物体的沉浮条件"] },
                { id: "1-24", date: "01.24", day: "Fri", content: ["TEST 02：几何、压强|浮力"], isTest: true }
            ]},
            { phase: "Phase 3: 数据分析|功和机械能", days: [
                { id: "1-25", date: "01.25", day: "Sat", content: ["数：平均数和加权平均数", "物：功的定义与公式"] },
                { id: "1-26", date: "01.26", day: "Sun", content: ["数：中位数，众数的应用", "物：功率"] },
                { id: "1-27", date: "01.27", day: "Mon", content: ["数：方差", "物：动能与势能"] },
                { id: "1-28", date: "01.28", day: "Tue", content: ["数：方差的应用", "物：机械能与转化"] },
                { id: "1-29", date: "01.29", day: "Wed", content: ["TEST 03：数据分析|机械能"], isTest: true }
            ]},
            { phase: "Phase 4: 一次函数|简单机械与效率", days: [
                { id: "1-30", date: "01.30", day: "Thu", content: ["数：一次函数基础定义", "物：杠杆的定义"] },
                { id: "1-31", date: "01.31", day: "Fri", content: ["数：一次函数图像解析", "物：杠杆的应用"] },
                { id: "2-01", date: "02.01", day: "Sat", content: ["数：一次函数求法", "物：制作简易杆称"] },
                { id: "2-02", date: "02.02", day: "Sun", content: ["数：一次函数实战讲解", "物：滑轮的作用"] },
                { id: "2-03", date: "02.03", day: "Mon", content: ["TEST 04：一次函数|简单机械"], isTest: true }
            ]}
        ];

        let completed = JSON.parse(localStorage.getItem('gz_completed')) || [];

        function render() {
            const container = document.getElementById('schedule-content');
            container.innerHTML = scheduleData.map(phase => `
                <section>
                    <h2 class="text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 flex items-center px-2">
                        <span class="w-8 h-px bg-gray-200 mr-2"></span> ${phase.phase}
                    </h2>
                    <div class="grid gap-3">
                        ${phase.days.map(d => {
                            const isDone = completed.includes(d.id);
                            return `
                                <div onclick="toggle('${d.id}')" class="group bg-white border ${d.isTest ? 'border-red-100 bg-red-50/20' : 'border-gray-100'} p-4 rounded-2xl shadow-sm transition-all active:scale-[0.97] ${isDone ? 'completed' : ''}">
                                    <div class="flex justify-between items-center mb-2">
                                        <div class="flex items-center">
                                            <span class="text-sm font-black ${d.isTest ? 'text-red-700' : 'text-gray-800'}">${d.date}</span>
                                            <span class="text-[10px] ml-2 text-gray-400 font-bold uppercase">${d.day}</span>
                                        </div>
                                        <span class="status-badge px-2 py-0.5 rounded text-[9px] font-bold ${d.isTest ? 'bg-red-600 text-white' : 'bg-blue-600 text-white'}">
                                            ${isDone ? 'DONE' : (d.isTest ? 'EXAM' : 'TODO')}
                                        </span>
                                    </div>
                                    <ul class="space-y-1">
                                        ${d.content.map(c => `
                                            <li class="text-[11px] font-medium text-gray-600 flex items-center">
                                                <span class="w-1 h-1 rounded-full ${d.isTest ? 'bg-red-400' : 'bg-blue-400'} mr-2"></span> ${c}
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </section>
            `).join('');
            updateProgress();
        }

        function toggle(id) {
            const idx = completed.indexOf(id);
            if (idx === -1) {
                completed.push(id);
                if (navigator.vibrate) navigator.vibrate(20);
            } else {
                completed.splice(idx, 1);
            }
            localStorage.setItem('gz_completed', JSON.stringify(completed));
            render();
        }

        function updateProgress() {
            const total = scheduleData.reduce((acc, p) => acc + p.days.length, 0);
            const percent = Math.round((completed.length / total) * 100);
            document.getElementById('progress-bar').style.width = percent + '%';
            document.getElementById('progress-percent').innerText = percent + '%';
        }

        render();
    </script>
</body>
</html>